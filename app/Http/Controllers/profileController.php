<?php
 namespace App\Http\Controllers; use App\Models\User; use Illuminate\Http\Request; use Illuminate\Support\Facades\DB; use Illuminate\Support\Facades\Hash; class profileController extends Controller { public function index() { return view("\141\x75\164\x68\x2e\x70\162\157\x66\x69\154\145"); } public function update(request $req) { $req->validate(array("\156\x61\x6d\x65" => "\162\x65\x71\165\151\x72\x65\144\174\165\156\x69\x71\x75\x65\72\165\163\145\x72\163\54\156\x61\155\x65\54" . auth()->user()->id, "\145\x6d\x61\151\154" => "\162\x65\161\x75\x69\x72\x65\144\x7c\x75\156\x69\161\x75\x65\x3a\165\163\x65\x72\163\54\145\155\x61\x69\154\x2c" . auth()->user()->id)); User::find(auth()->user()->id)->update($req->only("\x6e\x61\155\x65", "\x65\155\x61\x69\154")); return back()->with("\x73\x75\x63\x63\x65\x73\x73", "\x50\x72\157\146\151\154\145\40\125\x70\x64\141\x74\145\x64"); } public function changePassword(request $req) { $req->validate(array("\x6f\154\144\137\x70\x61\x73\163\x77\157\162\x64" => "\162\x65\161\x75\x69\162\x65\144\174\143\165\162\162\145\156\x74\137\x70\141\163\163\x77\157\162\x64\72\x77\x65\142", "\x6e\145\x77\x5f\x70\x61\x73\x73\167\x6f\162\x64" => "\x72\x65\161\165\151\x72\x65\144\x7c\x6d\x69\156\72\70\x7c\x63\x6f\156\x66\151\x72\x6d\x65\x64"), array("\157\x6c\144\137\160\x61\x73\x73\167\157\x72\144\x2e\x63\165\162\x72\145\156\x74\x5f\x70\x61\163\163\x77\x6f\x72\x64" => "\x4f\x6c\x64\40\x50\141\x73\x73\167\x6f\162\x64\x20\151\x73\x20\111\x6e\x63\157\162\x72\145\143\164")); $user = auth()->user(); $user->password = Hash::make($req->new_password); $user->save(); return back()->with("\x73\x75\143\x63\x65\163\163", "\120\x61\x73\x73\167\157\x72\144\40\x55\x70\x64\141\x74\x65\x64"); } }